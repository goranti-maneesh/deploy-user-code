{"ast":null,"code":"import _regeneratorRuntime from\"/home/workspace/reactjs/coding-practices/moviesApp/node_modules/.pnpm/@babel+runtime@7.24.1/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/workspace/reactjs/coding-practices/moviesApp/node_modules/.pnpm/@babel+runtime@7.24.1/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/home/workspace/reactjs/coding-practices/moviesApp/node_modules/.pnpm/@babel+runtime@7.24.1/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/workspace/reactjs/coding-practices/moviesApp/node_modules/.pnpm/@babel+runtime@7.24.1/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _callSuper from\"/home/workspace/reactjs/coding-practices/moviesApp/node_modules/.pnpm/@babel+runtime@7.24.1/node_modules/@babel/runtime/helpers/esm/callSuper.js\";import _inherits from\"/home/workspace/reactjs/coding-practices/moviesApp/node_modules/.pnpm/@babel+runtime@7.24.1/node_modules/@babel/runtime/helpers/esm/inherits.js\";import{Component}from'react';import Cookies from'js-cookie';import{Redirect}from'react-router-dom';import'./index.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";var LoginRoute=/*#__PURE__*/function(_Component){function LoginRoute(){var _this;_classCallCheck(this,LoginRoute);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_callSuper(this,LoginRoute,[].concat(args));_this.state={username:'',password:'',errorMsgStatus:false,errorMessage:''};_this.onChangeUsername=function(event){console.log(event.target.value);_this.setState({username:event.target.value});};_this.onChangePassword=function(event){console.log(event.target.value);_this.setState({password:event.target.value});};_this.onSubmissonSuccessful=function(jwtToken){var history=_this.props.history;Cookies.set('jwt_token',jwtToken,{expires:30,path:'/'});history.replace('/');};_this.onSubmissionFailure=function(error){_this.setState({errorMsgStatus:true,errorMessage:error});console.log(error);};_this.fromSubmitted=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var _this$state,username,password,userDetails,loginUrl,options,response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();_this$state=_this.state,username=_this$state.username,password=_this$state.password;userDetails={username:username,password:password};loginUrl='https://apis.ccbp.in/login';options={method:'POST',body:JSON.stringify(userDetails)};_context.next=7;return fetch(loginUrl,options);case 7:response=_context.sent;_context.next=10;return response.json();case 10:data=_context.sent;if(response.ok===true){_this.onSubmissonSuccessful(data.jwt_token);}else{console.log(data.error_msg);_this.onSubmissionFailure(data.error_msg);}case 12:case\"end\":return _context.stop();}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();return _this;}_inherits(LoginRoute,_Component);return _createClass(LoginRoute,[{key:\"render\",value:function render(){var _this$state2=this.state,username=_this$state2.username,password=_this$state2.password,errorMsgStatus=_this$state2.errorMsgStatus,errorMessage=_this$state2.errorMessage;var jwtToken=Cookies.get('jwt_token');if(jwtToken!==undefined){return/*#__PURE__*/_jsx(Redirect,{to:\"/\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-login-container\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text\",children:\"UserName : rahul\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text\",children:\"Password : rahul@2021\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"login-form\",type:\"submit\",onSubmit:this.fromSubmitted,children:[/*#__PURE__*/_jsx(\"img\",{className:\"logo-image\",src:\"https://assets.ccbp.in/frontend/react-js/logo-img.png\",alt:\"website logo\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-details-container\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"input-lable\",htmlFor:\"username\",children:\"USERNAME\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"input-text\",id:\"username\",onChange:this.onChangeUsername,value:username,placeholder:\"Username\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-details-container\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"input-lable\",htmlFor:\"password\",children:\"PASSWORD\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"input-text\",id:\"password\",onChange:this.onChangePassword,value:password,placeholder:\"Password\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"button-container\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"login-btn\",type:\"submit\",onClick:this.fromSubmitted,children:\"Login\"}),errorMsgStatus&&/*#__PURE__*/_jsx(\"p\",{className:\"error-msg\",children:errorMessage})]})]})]});}}]);}(Component);export default LoginRoute;","map":{"version":3,"names":["Component","Cookies","Redirect","jsx","_jsx","jsxs","_jsxs","LoginRoute","_Component","_this","_classCallCheck","_len","arguments","length","args","Array","_key","_callSuper","concat","state","username","password","errorMsgStatus","errorMessage","onChangeUsername","event","console","log","target","value","setState","onChangePassword","onSubmissonSuccessful","jwtToken","history","props","set","expires","path","replace","onSubmissionFailure","error","fromSubmitted","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_this$state","userDetails","loginUrl","options","response","data","wrap","_callee$","_context","prev","next","preventDefault","method","body","JSON","stringify","fetch","sent","json","ok","jwt_token","error_msg","stop","_x","apply","_inherits","_createClass","key","render","_this$state2","get","undefined","to","className","children","type","onSubmit","src","alt","htmlFor","id","onChange","placeholder","onClick"],"sources":["/home/workspace/reactjs/coding-practices/moviesApp/src/Components/LoginRoute/index.js"],"sourcesContent":["import {Component} from 'react'\nimport Cookies from 'js-cookie'\nimport {Redirect} from 'react-router-dom'\n\nimport './index.css'\n\nclass LoginRoute extends Component {\n  state = {username: '', password: '', errorMsgStatus: false, errorMessage: ''}\n\n  onChangeUsername = event => {\n    console.log(event.target.value)\n    this.setState({username: event.target.value})\n  }\n\n  onChangePassword = event => {\n    console.log(event.target.value)\n    this.setState({password: event.target.value})\n  }\n\n  onSubmissonSuccessful = jwtToken => {\n    const {history} = this.props\n    Cookies.set('jwt_token', jwtToken, {\n      expires: 30,\n      path: '/',\n    })\n    history.replace('/')\n  }\n\n  onSubmissionFailure = error => {\n    this.setState({errorMsgStatus: true, errorMessage: error})\n    console.log(error)\n  }\n\n  fromSubmitted = async event => {\n    event.preventDefault()\n    const {username, password} = this.state\n    const userDetails = {username, password}\n    const loginUrl = 'https://apis.ccbp.in/login'\n    const options = {\n      method: 'POST',\n      body: JSON.stringify(userDetails),\n    }\n    const response = await fetch(loginUrl, options)\n    const data = await response.json()\n    if (response.ok === true) {\n      this.onSubmissonSuccessful(data.jwt_token)\n    } else {\n      console.log(data.error_msg)\n      this.onSubmissionFailure(data.error_msg)\n    }\n  }\n\n  render() {\n    const {username, password, errorMsgStatus, errorMessage} = this.state\n    const jwtToken = Cookies.get('jwt_token')\n    if (jwtToken !== undefined) {\n      return <Redirect to=\"/\" />\n    }\n    return (\n      <div className=\"bg-login-container\">\n        <p className=\"text\">UserName : rahul</p>\n        <p className=\"text\">Password : rahul@2021</p>\n        <form\n          className=\"login-form\"\n          type=\"submit\"\n          onSubmit={this.fromSubmitted}\n        >\n          <img\n            className=\"logo-image\"\n            src=\"https://assets.ccbp.in/frontend/react-js/logo-img.png\"\n            alt=\"website logo\"\n          />\n          <div className=\"input-container\">\n            <div className=\"input-details-container\">\n              <label className=\"input-lable\" htmlFor=\"username\">\n                USERNAME\n              </label>\n              <input\n                type=\"text\"\n                className=\"input-text\"\n                id=\"username\"\n                onChange={this.onChangeUsername}\n                value={username}\n                placeholder=\"Username\"\n              />\n            </div>\n\n            <div className=\"input-details-container\">\n              <label className=\"input-lable\" htmlFor=\"password\">\n                PASSWORD\n              </label>\n              <input\n                type=\"text\"\n                className=\"input-text\"\n                id=\"password\"\n                onChange={this.onChangePassword}\n                value={password}\n                placeholder=\"Password\"\n              />\n            </div>\n          </div>\n          <div className=\"button-container\">\n            <button\n              className=\"login-btn\"\n              type=\"submit\"\n              onClick={this.fromSubmitted}\n            >\n              Login\n            </button>\n            {errorMsgStatus && <p className=\"error-msg\">{errorMessage}</p>}\n          </div>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport default LoginRoute\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}