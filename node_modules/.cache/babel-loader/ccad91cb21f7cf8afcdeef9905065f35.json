{"ast":null,"code":"import _regeneratorRuntime from\"/home/workspace/reactjs/coding-practices/moviesApp/node_modules/.pnpm/@babel+runtime@7.24.1/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/workspace/reactjs/coding-practices/moviesApp/node_modules/.pnpm/@babel+runtime@7.24.1/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/home/workspace/reactjs/coding-practices/moviesApp/node_modules/.pnpm/@babel+runtime@7.24.1/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/workspace/reactjs/coding-practices/moviesApp/node_modules/.pnpm/@babel+runtime@7.24.1/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _callSuper from\"/home/workspace/reactjs/coding-practices/moviesApp/node_modules/.pnpm/@babel+runtime@7.24.1/node_modules/@babel/runtime/helpers/esm/callSuper.js\";import _inherits from\"/home/workspace/reactjs/coding-practices/moviesApp/node_modules/.pnpm/@babel+runtime@7.24.1/node_modules/@babel/runtime/helpers/esm/inherits.js\";import{Component}from'react';import Cookies from'js-cookie';import Loader from'react-loader-spinner';import'./index.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";var profileStatusValue={profileFailure:'FAILURE',profileSuccess:'SUCCESS',profileInitial:'INITIAL',profileLoading:'LOADING'};var ProfileRoute=/*#__PURE__*/function(_Component){function ProfileRoute(){var _this;_classCallCheck(this,ProfileRoute);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_callSuper(this,ProfileRoute,[].concat(args));_this.state={profileStatus:profileStatusValue.profileInitial};_this.getprofileDetails=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var profileUrl,jwtToken,options,response,profileData,data,upDatedProfile;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_this.setState({profileStatus:profileStatusValue.profileLoading});_context.prev=1;profileUrl='https://apis.ccbp.in/profile';jwtToken=Cookies.get('jwt_token');options={method:'GET',headers:{Authorization:\"Bearer \".concat(jwtToken)}};_context.next=7;return fetch(profileUrl,options);case 7:response=_context.sent;_context.next=10;return response.json();case 10:profileData=_context.sent;data=profileData.profile_details;upDatedProfile={name:data.name,profileImageUrl:data.profile_image_url,shortBio:data.short_bio};_this.setState({profileDetails:upDatedProfile,profileStatus:profileStatusValue.profileSuccess});_context.next=20;break;case 16:_context.prev=16;_context.t0=_context[\"catch\"](1);console.log(_context.t0);_this.setState({profileStatus:profileStatusValue.profileFailure});case 20:case\"end\":return _context.stop();}},_callee,null,[[1,16]]);}));_this.renderProfileSuccess=function(){var profileDetails=_this.state.profileDetails;var name=profileDetails.name,profileImageUrl=profileDetails.profileImageUrl,shortBio=profileDetails.shortBio;return/*#__PURE__*/_jsxs(\"div\",{className:\"profile-container\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"profile-image\",alt:\"profile\",src:profileImageUrl}),/*#__PURE__*/_jsx(\"h1\",{className:\"profile-name\",children:name}),/*#__PURE__*/_jsx(\"p\",{className:\"profile-description\",children:shortBio})]});};_this.onClickRetry=function(){_this.renderProfileSuccess();};_this.renderProfileFailure=function(){return/*#__PURE__*/_jsx(\"div\",{className:\"profile-failuer-container\",children:/*#__PURE__*/_jsx(\"button\",{className:\"retry-btn\",type:\"button\",onClick:_this.onClickRetry,children:\"Retry\"})});};_this.renderLoading=function(){return/*#__PURE__*/_jsx(\"div\",{className:\"loader-container\",\"data-testid\":\"loader\",children:/*#__PURE__*/_jsx(Loader,{type:\"ThreeDots\",color:\"#ffffff\",height:\"50\",width:\"50\"})});};_this.renderProfilePage=function(){var profileStatus=_this.state.profileStatus;console.log(profileStatus);switch(profileStatus){case profileStatusValue.profileSuccess:return _this.renderProfileSuccess();case profileStatusValue.profileFailure:return _this.renderProfileFailure();case profileStatusValue.profileLoading:return _this.renderLoading();default:return null;}};return _this;}_inherits(ProfileRoute,_Component);return _createClass(ProfileRoute,[{key:\"componentDidMount\",value:function componentDidMount(){this.getprofileDetails();}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{children:this.renderProfilePage()});}}]);}(Component);export default ProfileRoute;","map":{"version":3,"names":["Component","Cookies","Loader","jsx","_jsx","jsxs","_jsxs","profileStatusValue","profileFailure","profileSuccess","profileInitial","profileLoading","ProfileRoute","_Component","_this","_classCallCheck","_len","arguments","length","args","Array","_key","_callSuper","concat","state","profileStatus","getprofileDetails","_asyncToGenerator","_regeneratorRuntime","mark","_callee","profileUrl","jwtToken","options","response","profileData","data","upDatedProfile","wrap","_callee$","_context","prev","next","setState","get","method","headers","Authorization","fetch","sent","json","profile_details","name","profileImageUrl","profile_image_url","shortBio","short_bio","profileDetails","t0","console","log","stop","renderProfileSuccess","className","children","alt","src","onClickRetry","renderProfileFailure","type","onClick","renderLoading","color","height","width","renderProfilePage","_inherits","_createClass","key","value","componentDidMount","render"],"sources":["/home/workspace/reactjs/coding-practices/moviesApp/src/Components/ProfileRoute/index.js"],"sourcesContent":["import {Component} from 'react'\nimport Cookies from 'js-cookie'\nimport Loader from 'react-loader-spinner'\nimport './index.css'\n\nconst profileStatusValue = {\n  profileFailure: 'FAILURE',\n  profileSuccess: 'SUCCESS',\n  profileInitial: 'INITIAL',\n  profileLoading: 'LOADING',\n}\n\nclass ProfileRoute extends Component {\n  state = {profileStatus: profileStatusValue.profileInitial}\n\n  componentDidMount() {\n    this.getprofileDetails()\n  }\n\n  getprofileDetails = async () => {\n    this.setState({profileStatus: profileStatusValue.profileLoading})\n    try {\n      const profileUrl = 'https://apis.ccbp.in/profile'\n      const jwtToken = Cookies.get('jwt_token')\n      const options = {\n        method: 'GET',\n        headers: {\n          Authorization: `Bearer ${jwtToken}`,\n        },\n      }\n      const response = await fetch(profileUrl, options)\n      const profileData = await response.json()\n      const data = profileData.profile_details\n      const upDatedProfile = {\n        name: data.name,\n        profileImageUrl: data.profile_image_url,\n        shortBio: data.short_bio,\n      }\n      this.setState({\n        profileDetails: upDatedProfile,\n        profileStatus: profileStatusValue.profileSuccess,\n      })\n    } catch (e) {\n      console.log(e)\n      this.setState({profileStatus: profileStatusValue.profileFailure})\n    }\n  }\n\n  renderProfileSuccess = () => {\n    const {profileDetails} = this.state\n    const {name, profileImageUrl, shortBio} = profileDetails\n    return (\n      <div className=\"profile-container\">\n        <img className=\"profile-image\" alt=\"profile\" src={profileImageUrl} />\n        <h1 className=\"profile-name\">{name}</h1>\n        <p className=\"profile-description\">{shortBio}</p>\n      </div>\n    )\n  }\n\n  onClickRetry = () => {\n    this.renderProfileSuccess()\n  }\n\n  renderProfileFailure = () => (\n    <div className=\"profile-failuer-container\">\n      <button className=\"retry-btn\" type=\"button\" onClick={this.onClickRetry}>\n        Retry\n      </button>\n    </div>\n  )\n\n  renderLoading = () => (\n    <div className=\"loader-container\" data-testid=\"loader\">\n      <Loader type=\"ThreeDots\" color=\"#ffffff\" height=\"50\" width=\"50\" />\n    </div>\n  )\n\n  renderProfilePage = () => {\n    const {profileStatus} = this.state\n    console.log(profileStatus)\n    switch (profileStatus) {\n      case profileStatusValue.profileSuccess:\n        return this.renderProfileSuccess()\n      case profileStatusValue.profileFailure:\n        return this.renderProfileFailure()\n      case profileStatusValue.profileLoading:\n        return this.renderLoading()\n      default:\n        return null\n    }\n  }\n\n  render() {\n    return <div>{this.renderProfilePage()}</div>\n  }\n}\n\nexport default ProfileRoute\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}