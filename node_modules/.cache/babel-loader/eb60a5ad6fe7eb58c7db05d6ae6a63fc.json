{"ast":null,"code":"var _jsxFileName = \"/home/workspace/reactjs/coding-practices/moviesApp/src/Components/ProfileRoute/index.js\";\nimport { Component } from 'react';\nimport Cookies from 'js-cookie';\nimport Loader from 'react-loader-spinner';\nimport './index.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst profileStatusValue = {\n  profileFailure: 'FAILURE',\n  profileSuccess: 'SUCCESS',\n  profileInitial: 'INITIAL',\n  profileLoading: 'LOADING'\n};\nclass ProfileRoute extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      profileStatus: profileStatusValue.profileInitial\n    };\n    this.getprofileDetails = async () => {\n      this.setState({\n        profileStatus: profileStatusValue.profileLoading\n      });\n      try {\n        const profileUrl = 'https://apis.ccbp.in/profile';\n        const jwtToken = Cookies.get('jwt_token');\n        const options = {\n          method: 'GET',\n          headers: {\n            Authorization: `Bearer ${jwtToken}`\n          }\n        };\n        const response = await fetch(profileUrl, options);\n        const profileData = await response.json();\n        const data = profileData.profile_details;\n        const upDatedProfile = {\n          name: data.name,\n          profileImageUrl: data.profile_image_url,\n          shortBio: data.short_bio\n        };\n        this.setState({\n          profileDetails: upDatedProfile,\n          profileStatus: profileStatusValue.profileSuccess\n        });\n      } catch (e) {\n        console.log(e);\n        this.setState({\n          profileStatus: profileStatusValue.profileFailure\n        });\n      }\n    };\n    this.renderProfileSuccess = () => {\n      const {\n        profileDetails\n      } = this.state;\n      const {\n        name,\n        profileImageUrl,\n        shortBio\n      } = profileDetails;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"profile-image\",\n          alt: \"profile\",\n          src: profileImageUrl\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"profile-name\",\n          children: name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"profile-description\",\n          children: shortBio\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 7\n      }, this);\n    };\n    this.onClickRetry = () => {\n      this.renderProfileSuccess();\n    };\n    this.renderProfileFailure = () => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-failuer-container\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"retry-btn\",\n        type: \"button\",\n        onClick: this.onClickRetry,\n        children: \"Retry\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 5\n    }, this);\n    this.renderLoading = () => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loader-container\",\n      \"data-testid\": \"loader\",\n      children: /*#__PURE__*/_jsxDEV(Loader, {\n        type: \"ThreeDots\",\n        color: \"#ffffff\",\n        height: \"50\",\n        width: \"50\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 5\n    }, this);\n    this.renderProfilePage = () => {\n      const {\n        profileStatus\n      } = this.state;\n      console.log(profileStatus);\n      switch (profileStatus) {\n        case profileStatusValue.profileSuccess:\n          return this.renderProfileSuccess();\n        case profileStatusValue.profileFailure:\n          return this.renderProfileFailure();\n        case profileStatusValue.profileLoading:\n          return this.renderLoading();\n        default:\n          return null;\n      }\n    };\n  }\n  componentDidMount() {\n    this.getprofileDetails();\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: this.renderProfilePage()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 12\n    }, this);\n  }\n}\nexport default ProfileRoute;","map":{"version":3,"names":["Component","Cookies","Loader","jsxDEV","_jsxDEV","profileStatusValue","profileFailure","profileSuccess","profileInitial","profileLoading","ProfileRoute","constructor","args","state","profileStatus","getprofileDetails","setState","profileUrl","jwtToken","get","options","method","headers","Authorization","response","fetch","profileData","json","data","profile_details","upDatedProfile","name","profileImageUrl","profile_image_url","shortBio","short_bio","profileDetails","e","console","log","renderProfileSuccess","className","children","alt","src","fileName","_jsxFileName","lineNumber","columnNumber","onClickRetry","renderProfileFailure","type","onClick","renderLoading","color","height","width","renderProfilePage","componentDidMount","render"],"sources":["/home/workspace/reactjs/coding-practices/moviesApp/src/Components/ProfileRoute/index.js"],"sourcesContent":["import {Component} from 'react'\nimport Cookies from 'js-cookie'\nimport Loader from 'react-loader-spinner'\nimport './index.css'\n\nconst profileStatusValue = {\n  profileFailure: 'FAILURE',\n  profileSuccess: 'SUCCESS',\n  profileInitial: 'INITIAL',\n  profileLoading: 'LOADING',\n}\n\nclass ProfileRoute extends Component {\n  state = {profileStatus: profileStatusValue.profileInitial}\n\n  componentDidMount() {\n    this.getprofileDetails()\n  }\n\n  getprofileDetails = async () => {\n    this.setState({profileStatus: profileStatusValue.profileLoading})\n    try {\n      const profileUrl = 'https://apis.ccbp.in/profile'\n      const jwtToken = Cookies.get('jwt_token')\n      const options = {\n        method: 'GET',\n        headers: {\n          Authorization: `Bearer ${jwtToken}`,\n        },\n      }\n      const response = await fetch(profileUrl, options)\n      const profileData = await response.json()\n      const data = profileData.profile_details\n      const upDatedProfile = {\n        name: data.name,\n        profileImageUrl: data.profile_image_url,\n        shortBio: data.short_bio,\n      }\n      this.setState({\n        profileDetails: upDatedProfile,\n        profileStatus: profileStatusValue.profileSuccess,\n      })\n    } catch (e) {\n      console.log(e)\n      this.setState({profileStatus: profileStatusValue.profileFailure})\n    }\n  }\n\n  renderProfileSuccess = () => {\n    const {profileDetails} = this.state\n    const {name, profileImageUrl, shortBio} = profileDetails\n    return (\n      <div className=\"profile-container\">\n        <img className=\"profile-image\" alt=\"profile\" src={profileImageUrl} />\n        <h1 className=\"profile-name\">{name}</h1>\n        <p className=\"profile-description\">{shortBio}</p>\n      </div>\n    )\n  }\n\n  onClickRetry = () => {\n    this.renderProfileSuccess()\n  }\n\n  renderProfileFailure = () => (\n    <div className=\"profile-failuer-container\">\n      <button className=\"retry-btn\" type=\"button\" onClick={this.onClickRetry}>\n        Retry\n      </button>\n    </div>\n  )\n\n  renderLoading = () => (\n    <div className=\"loader-container\" data-testid=\"loader\">\n      <Loader type=\"ThreeDots\" color=\"#ffffff\" height=\"50\" width=\"50\" />\n    </div>\n  )\n\n  renderProfilePage = () => {\n    const {profileStatus} = this.state\n    console.log(profileStatus)\n    switch (profileStatus) {\n      case profileStatusValue.profileSuccess:\n        return this.renderProfileSuccess()\n      case profileStatusValue.profileFailure:\n        return this.renderProfileFailure()\n      case profileStatusValue.profileLoading:\n        return this.renderLoading()\n      default:\n        return null\n    }\n  }\n\n  render() {\n    return <div>{this.renderProfilePage()}</div>\n  }\n}\n\nexport default ProfileRoute\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}